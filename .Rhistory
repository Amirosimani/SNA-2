tools <- strsplit(as.character(toolsDF$tools),',')
a1 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("R", tools)), length))
toolsDF[, R:= a1]
a2 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Excel", tools)), length))
toolsDF[, Excel:= a2]
a3 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("SQL", tools)), length))
toolsDF[, SQL:= a3]
a4 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("ggplot2", tools)), length))
toolsDF[, ggplot2:= a4]
a5 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Python", tools)), length))
toolsDF[, Python:= a5]
a6 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Stata", tools)), length))
toolsDF[, Stata:= a6]
a7 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("dropbox", tools)), length))
toolsDF[, dropbox:= a7]
a8 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("google drive", tools)), length))
toolsDF[, googledirve:= a8]
a9 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("LaTeX", tools)), length))
toolsDF[, LaTeX:= a9]
a10 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("regular expressions", tools)), length))
toolsDF[, RegEx:= a10]
a11 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Sweave/knitr", tools)), length))
toolsDF[, Sweave.knitr:= a11]
a12 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("XML", tools)), length))
toolsDF[, xml:= a12]
a13 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Web: html css js", tools)), length))
toolsDF[, web:= a13]
a14 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("shell", tools)), length))
toolsDF[, shell:= a14]
a15 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Github", tools)), length))
toolsDF[, Github:= a15]
a16 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("C\\/C\\+\\+", tools)), length))
toolsDF[, C:= a16]
a17 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("Matlab", tools)), length))
toolsDF[, Matlab:= a17]
a18 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("SPSS", tools)), length))
toolsDF[, SPSS:= a18]
a19 <- as.numeric(sapply(regmatches(toolsDF$tools, gregexpr("RStudio", tools)), length))
toolsDF[, RStudio:= a19]
toolsDF$R <- toolsDF$R - toolsDF$RStudio
setkey(toolsDF)
toolsDF$degree <- as.factor(toolsDF$degree)
toolsDF[,tools:=NULL]
toolsDF.degree = toolsDF[, lapply(.SD, sum), by = degree]
toolsDF.degree.m <- melt(toolsDF.degree)
ggplot(toolsDF.degree.m, aes(degree, variable)) + geom_tile(aes(fill = value , colour = "white"))
View(toolsDF.degree.m)
View(toolsDF.degree)
toolsDF.degree[ , lapply(.SD , mean ) , by = degree ]
d <- toolsDF.degree[ , lapply(.SD , mean ) , by = degree ]
View(d)
View(DataFrame)
View(DataFrame)
CSV_url <- getURL("https://raw.githubusercontent.com/Amirosimani/ExploratoryDataAnalysis/master/Survey.csv")
DataFrame <- read.csv(text = CSV_url)
View(DataFrame)
install.packages("netcdf")
install.packages("ncdf4")
?ncdf4
help(ncdf4)
?ncdf4
??ncdf4
network <- read.table("http://moreno.ss.uci.edu/krackht.dat", header=TRUE)
read.table("http://moreno.ss.uci.edu/krackht.dat", header=TRUE)
network <- read.table("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",")
View(network)
network <- read.table("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=" ")
network <- read.table("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep="")
network <- read.table("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",")
View(network)
network <- read.delim("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep="")
network <- read.delim("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",")
View(network)
network <- read.delim("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",", skip= 7)
View(network)
network <- read.delim("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",", skip= 6)
View(network)
network <- read.delim("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",", skip= 7)
View(network)
network <- read.csv("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",", skip= 7)
View(network)
network <- read.csv("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep="",  na.strings ="", skip= 7)
network <- read.csv("http://moreno.ss.uci.edu/krackht.dat", header=TRUE, sep=",", skip= 7)
View(network)
library(data.table)
View(network)
clmns <- strsplit(as.character(network[1]),' ')
clmns <- strsplit(as.character(network[1]),"")
setDT(network1[, paste0("clmns", 1:16) := tstrsplit(clmns, ",")]
)
setDT(network[, paste0("clmns", 1:16) := tstrsplit(clmns, ",")])
View(network)
clmns <- strsplit(as.numeric(network[1]),"")
clmns <- strsplit(as.numeric(network[1]),'')
attributes <- read.csv("http://moreno.ss.uci.edu/krackht_att.dat", header=TRUE, sep=",", skip= 7)
View(attributes)
attributes <- read.csv("http://moreno.ss.uci.edu/krackht_att.dat", header=TRUE, sep=",", skip= 8)
View(attributes)
library(ggplot2)
ggplot() + geom_histogram(aes(x=x))
my.data <- rnomr(1000)
my.data <- rnorm(1000)
ggplot() + geom_histogram(aes(x=my.data), binwitdh = 0.1)
ggplot() + geom_histogram(aes(x=my.data), binwidth = 0.1)
ggplot() + geom_histogram(aes(x=my.data), bin = 1)
ggplot() + geom_histogram(aes(x=my.data), bin = 2)
ggplot() + geom_histogram(aes(x=my.data), bin = 20)
ggplot() + geom_histogram(aes(x=my.data), bins = 20)
ggplot() + geom_histogram(aes(x=my.data), bins = 2)
ggplot() + geom_histogram(aes(x=my.data), bins = 1)
ggplot() + geom_histogram(aes(x=my.data), bins = 100)
ggplot() + geom_histogram(aes(x=my.data), bins = 50)
ggplot() + geom_histogram(aes(x=my.data), bins = 50, fill = "blue")
ggplot() + geom_histogram(aes(x=my.data), bins = 50, fill = "blue", alpha = 0.3)
ggplot() + geom_histogram(aes(x=my.data), bins = 50, fill = "blue", alpha = 0.8)
ggplot() + geom_density(aes = my.data)
ggplot() + geom_density(aes(x = my.data))
ggplot() + geom_density(aes(x = my.data), fill = "green", color ="blue")
p<- ggplot() + geom_density(aes(x = my.data), fill = "green", color ="blue") + ggtitle("My plot")
p
p<- ggplot() + geom_density(aes(x = my.data), fill = "yellow", color ="blue") + ggtitle("My plot")
p
p<- ggplot() + geom_density(aes(x = my.data), fill = "yellow", color ="blue", alpha = 0.7) + ggtitle("My plot")
p
p + coord_cartesian(xlim = c(0,1))
p
p + coord_cartesian(xlim = c(0,2))
p + coord_cartesian(xlim = c(2,3))
p + coord_cartesian(xlim = c(2,3)) + xlab("data") + ylab("density")
p  + xlab("data") + ylab("density")
p  + xlab("data") + ylab("density") + ggtitle("my plot")
a<- ggplot() + geom_histogram(aes(x=my.data), bins = 50, fill = "blue", alpha = 0.8)
a
a + geom_histogram(color = "yellow")
x <- seq(from = 1, to = 10, by = 0.1)
y <- x*3 + x^2 + sin(x) + rnorm(length(x), sd =3)
x <- seq(from = -3, to = 3, by = 0.1)
y <- x*3 + x^2 + sin(x) + rnorm(length(x), sd =3)
ggplot() + geom_point(aes(x =x, y=y))
b <- ggplot() + geom_point(aes(x =x, y=y))
b + geom_smooth(aes(x=x, y=y))
b + geom_smooth(aes(x=x, y=y), method = lm)
b + geom_smooth(aes(x=x, y=y), method = lm) + geom_smooth(aes(x=x, y=y), method = loess)
b + geom_smooth(aes(x=x, y=y), method = lm) + geom_smooth(aes(x=x, y=y), method = loess, color = "red")
sleep <- rnorm(100, ,mean = 6, sd =1)
sleep <- rnorm(100, ,mean = 6, sd =1)
sleep <- rnorm(100, mean = 6, sd =1)
grade <- sleep + sleep^2 + rnrom(length(sleep), sd = 3)
grade <- sleep + sleep^2 + rnorm(length(sleep), sd = 3)
dataframe <- df(sleep, grade)
df <- dataframe(sleep, grade)
df <- data.frame(sleep, grade)
ggplot(data =df, aes(x = sleep, y =drade)) + geom_point()
ggplot(data =df, aes(x = sleep, y =grade)) + geom_point()
ggplot(data =df, aes(x = sleep, y =grade)) + geom_point() + geom_smooth
ggplot(data =df, aes(x = sleep, y =grade)) + geom_point() + geom_smooth()
rep.int(c(1,0), c(50,50))
class <- rep.int(c(1,0), c(50,50))
x<- runif(100, mi=10, max =20)
y<- 5*x +40 + rnorm(100) + class *-2*x
df2 <- data.frame(input =x, output = y, condition = class)
df2
ggplot(df2, aes(x = input, y = output))
ggplot(df2, aes(x = input, y = output)) + geom_point()
ggplot(df2, aes(x = input, y = output)) + geom_point() + facet_grid(.~condition)
ggplot(df2, aes(x = input, y = output)) + geom_point() + facet_grid(.~condition) + geom_smooth()
grade <- sleep + sleep^2 + rnorm(length(sleep), sd = 10)
df <- data.frame(sleep, grade)
ggplot(data =df, aes(x = sleep, y =grade)) + geom_point() + geom_smooth()
class <- rep.int(c(1,0), c(50,50))
x<- runif(100, mi=10, max =20)
y<- 5*x +40 + rnorm(100) + class *-2*x
df2 <- data.frame(input =x, output = y, condition = class)
ggplot(df2, aes(x = input, y = output)) + geom_point() + facet_grid(.~condition) + geom_smooth()
x<- runif(100, mi=10, max =20)
y<- 5*x +40 + rnorm(100) + class *-2*x +rnorm(100, sd = 10)
df2 <- data.frame(input =x, output = y, condition = class)
ggplot(df2, aes(x = input, y = output)) + geom_point() + facet_grid(.~condition) + geom_smooth()
ggplot(df2, aes(x = input, y = output)) + geom_point() +  geom_smooth()
facet_grid(.~condition) + ggplot(df2, aes(x = input, y = output)) + geom_point() +  geom_smooth()
ggplot(df2, aes(x = input, y = output)) + geom_point() +  geom_smooth() + facet_grid(.~condition)
ggplot(df2, aes(x = input, y = output)) + geom_point() +  geom_smooth() + facet_grid(.~condition) + theme_minimal
ggplot(df2, aes(x = input, y = output)) + geom_point() +  geom_smooth() + facet_grid(.~condition) + theme_minimal()
### 0. libraries----
library(data.table)
library(plyr)
library(circlize)
library(ggplot2)
library(reshape2)
library(gridExtra)
library(cluster)
library(tm)
library(SnowballC)
library(RColorBrewer)
library(wordcloud)
Dem = fread(file.choose() ,header=TRUE)
Dia = fread(file.choose() ,header=TRUE)
Dem$race[Dem$race == 'Hispanic-HISPANIC'] = 'Hispanic'
Dem$race[Dem$race == 'White-WHITE'] = 'White'
Dem$race[Dem$race == 'American Indian-AMERICAN INDIAN'] = 'American Indian'
Dem$race[Dem$race == 'Asian-ASIAN'] = 'Asian'
Dem$race[Dem$race == 'BLACK OR AFRICAN AMERICAN'] = 'African American'
Dem$race[Dem$race == 'Black-BLACK'] = 'Black'
#Data conversion
Dem$date_of_birth = as.Date(Dem$date_of_birth)
Dem$date_of_death = as.Date(Dem$date_of_death)
Dia$dia_date = as.Date(Dia$dia_date)
### 3. Basic stats and plots----
options(digits=3)
race_gender <- dcast( Dem , race ~ gender , length )
race_gender$total <- race_gender$female + race_gender$male
race_gender <- race_gender[order(-race_gender$total),]
race_gender$age_average <- c(69.6,70.8,60.6,72.2,72.4,65.2)
race_gender$age_sd <- c(22.3,20.1,21.0,20.5,21.4,22.5)
row.names(race_gender) <- NULL
new_row <- c("All races",200,200,400,69.4,21.8)
race_gender <- rbind(new_row, race_gender)
#race and gender table
grid.table(race_gender, rows=NULL)
"tableau for bubble chart"
positions <- c("White", "Black", "Asian", "African American", "Hispanic","American Indian")
ggplot(Dem, aes(race, fill=gender)) + scale_x_discrete(limits = positions) +
geom_bar() +
ggtitle("Breakdown of patients based on Race and Gender")
geom_text(aes(label = count, y = pos), size = 3) + geom_text()
ggplot(Dem, aes(race, age)) + geom_boxplot(fill = "grey80", colour = "#3366FF") +
ggtitle("Patients average Age based on Race")
ggplot(Dem, aes(race, age, fill = gender)) + geom_boxplot() +
ggtitle("Patients age based on race and gender")
ggplot() +
geom_freqpoly(data = Dem, aes(age), binwidth = 5, size = 1.5) +
geom_freqpoly(data = Dem, aes(age, fill = race, colour = race),binwidth = 5, size = 1) + xlim(20, 100) +
ggtitle("Age distribution based on Race") +
geom_vline(xintercept=37, size = 0.3, color ="grey") + geom_vline(xintercept=58, size = 0.3, color ="grey")
ggplot() +
geom_freqpoly(data = Dem, aes(age), binwidth = 5, size = 1.5) +
geom_freqpoly(data = Dem, aes(age, fill = gender, colour = gender), binwidth = 5, size = 1) +
xlim(20, 100) + scale_fill_brewer() +
ggtitle("Age distribution based on Gender") +
geom_vline(xintercept=37, size = 0.3, color ="grey") + geom_vline(xintercept=58, size = 0.3, color ="grey")
aggregate(age~gender, Dem, function(x) c(mean = mean(x), sd = sd(x)))
ggplot(Dem, aes(gender, age)) + geom_boxplot(fill = "grey80", colour = "#3366FF")+
ggtitle("Patients average age based on Gender")
jpg("1.jpg")
bmp("1.bmp")
ggplot() +
geom_freqpoly(data = Dem, aes(age), binwidth = 5, size = 1.5) +
geom_freqpoly(data = Dem, aes(age, fill = race, colour = race),binwidth = 5, size = 1) + xlim(20, 100) +
ggtitle("Age distribution based on Race") +
geom_vline(xintercept=37, size = 0.3, color ="grey") + geom_vline(xintercept=58, size = 0.3, color ="grey")
dev.off()
bmp("2.bmp")
ggplot() +
geom_freqpoly(data = Dem, aes(age), binwidth = 5, size = 1.5) +
geom_freqpoly(data = Dem, aes(age, fill = gender, colour = gender), binwidth = 5, size = 1) +
xlim(20, 100) + scale_fill_brewer() +
ggtitle("Age distribution based on Gender") +
geom_vline(xintercept=37, size = 0.3, color ="grey") + geom_vline(xintercept=58, size = 0.3, color ="grey")
dev.off()
white <- Dem[ which(Dem$race =='White')]
#visualizing age of patients only for whites
"both female and male patients have an increase after "
ggplot() +
geom_freqpoly(data = white, aes(age), binwidth = 5, size = 2) +
geom_freqpoly(data = white, aes(age, fill = gender, colour = gender),binwidth = 5, size = 1) +
xlim(20, 100) + scale_fill_brewer() +
ggtitle("White patients' age based on gender") +
geom_vline(xintercept=37, size = 0.3, color ="grey") + geom_vline(xintercept=47, size = 0.3, color ="grey")
bmp("3.bmp")
ggplot() +
geom_freqpoly(data = white, aes(age), binwidth = 5, size = 2) +
geom_freqpoly(data = white, aes(age, fill = gender, colour = gender),binwidth = 5, size = 1) +
xlim(20, 100) + scale_fill_brewer() +
ggtitle("White patients' age based on gender") +
geom_vline(xintercept=37, size = 0.3, color ="grey") + geom_vline(xintercept=47, size = 0.3, color ="grey")
dev.off()
bmp("3.bmp")
ggplot() +
geom_freqpoly(data = white, aes(age), binwidth = 5, size = 2) +
geom_freqpoly(data = white, aes(age, fill = gender, colour = gender),binwidth = 5, size = 1) +
xlim(20, 100) + scale_fill_brewer() +
ggtitle("White patients' age based on gender") +
geom_vline(xintercept=37, size = 1, color ="grey") + geom_vline(xintercept=47, size = 0.3, color ="grey")
dev.off()
bmp("3.bmp")
ggplot() +
geom_freqpoly(data = white, aes(age), binwidth = 5, size = 2) +
geom_freqpoly(data = white, aes(age, fill = gender, colour = gender),binwidth = 5, size = 1) +
xlim(20, 100) + scale_fill_brewer() +
ggtitle("White patients' age based on gender") +
geom_vline(xintercept=37, size = 1, color ="grey") + geom_vline(xintercept=47, size = 1, color ="grey")
dev.off()
N = 3
people <- read.csv('/Users/Amiros/GitHub/MWH/people.csv', sep = ",")
people$X <- NULL
people$from <- as.character(people$from)
people <- as.data.frame(sapply(people, function(x) gsub("UNCLASSIFIEDUSDepartmentofStateCaseNoFDocNoC", "", x)))
from <- as.data.frame(sort(table(people$from), decreasing = TRUE))
from <- setDT(from, keep.rownames = T)[]
library(data.table)
from <- as.data.frame(sort(table(people$from), decreasing = TRUE))
from <- setDT(from, keep.rownames = T)[]
top100 <- from[1:100,]
selected <- people[people$from %in% top100$rn,]
library(plyr)
cdata <- ddply(selected, c("from", "to"), summarise)
cdata <- ddply(selected, c("from", "to"), summarise,   N = length(from))
View(cdata)
a <- setDT(tstrsplit(as.character(selected$to), ";", fixed=TRUE))[]
mat_sel <- cbind(selected$from, a,b)
mat_sel <- cbind(selected$from, a)
colnames(mat_sel)[1] <- "from"
View(mat_sel)
mat_sel <- subset(mat_sel, V1 = NULL | from = NULL)
mat_sel <- subset(mat_sel, V1 == NULL | from == NULL)
mat_sel <- cbind(selected$from, a)
mat_sel <- subset(mat_sel, V1 == NULL)
mat_sel <- cbind(selected$from, a)
mat_sel <- subset(mat_sel, V1 == NA )
mat_sel <- cbind(selected$from, a)
mat_sel <- subset(mat_sel, V1 == "NA" )
mat_sel <- cbind(selected$from, a)
colnames(mat_sel)[1] <- "from"
mat_sel <- mat_sel[ V1 != 'NA']
View(mat_sel)
mat_sel <- mat_sel[ V1 != 'NA' | from != 'NA']
mat_sel <- mat_sel[ V1 != 'NA' | from != '']
View(mat_sel)
mat_sel <- mat_sel[ V1 != 'NA' | from != '' | nchar(V1) < 15]
mat_sel <- mat_sel[ from != '']
mat_sel <- mat_sel[ nchar(V1) < 15 ]
View(mat_sel)
mat_sel <- cbind(selected$from, a)
colnames(mat_sel)[1] <- "from"
mat_sel <- mat_sel[ V1 != 'NA' & from != '' & nchar(V1) < 15]
a[, list(V1, V2, V3, V4, V5)]
a <- a[, list(V1, V2, V3, V4, V5)]
View(a)
mat_sel <- cbind(selected$from, a)
colnames(mat_sel)[1] <- "from"
mat_sel <- mat_sel[ V1 != 'NA' & from != '' & nchar(V1) < 15]
View(mat_sel)
View(from)
View(selected)
people <- read.csv('/Users/Amiros/GitHub/MWH/people.csv', sep = ",")
people$X <- NULL
people$from <- as.character(people$from)
people <- as.data.frame(sapply(people, function(x) gsub("UNCLASSIFIEDUSDepartmentofStateCaseNoFDocNoC", "", x)))
from <- as.data.frame(sort(table(people$from), decreasing = TRUE))
from <- setDT(from, keep.rownames = T)[]
View(from)
top100 <- from[1:100,]
top100 <- top100[from != '']
View(top100)
top100 <- top100[rn != '']
selected <- people[people$from %in% top100$rn,]
recipients_sep <- setDT(tstrsplit(as.character(selected$to), ";", fixed=TRUE))[]
recipients_sep <- a[, list(V1, V2, V3, V4, V5)] ##keep the first 5 recipeints
recipients_sep <- recipients_sep[, list(V1, V2, V3, V4, V5)] ##keep the first 5 recipeints
View(recipients_sep)
mat_sel <- cbind(selected$from, recipients_sep)
View(mat_sel)
colnames(mat_sel)[1] <- "from"
View(mat_sel)
mat_sel2 <- mat_sel[ V1 != 'NA' & from != '' & nchar(V1) < 15]
View(mat_sel2)
mat_sel2 <- mat_sel[ V1 != 'NA']
View(mat_sel2)
mat_sel2 <- mat_sel[ V1 != 'NA' & nchar(V1) < 15]
View(mat_sel2)
mat_sel2 <- mat_sel[ V1 != 'NA' & nchar(V1) < 25]
View(mat_sel2)
mat_sel2 <- mat_sel[ V1 != 'NA' & nchar(V1) < 50]
View(mat_sel2)
mat_sel2 <- mat_sel[ V1 != 'NA' & nchar(V1) < 80]
View(mat_sel2)
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 80]
rm(mat_sel2)
cdata <- ddply(mat_sel, c("from", "V1"), summarise,   N = length(from))
View(cdata)
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 50]
cdata <- ddply(mat_sel, c("from", "V1"), summarise,   N = length(from))
View(cdata)
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 37]
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 37 & v1 != '']
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 37 & V1 != '']
cdata <- ddply(mat_sel, c("from", "V1"), summarise,   N = length(from))
cdata <- ddply(mat_sel, c("from", "V1", "V2"), summarise,   N = length(from))
View(cdata)
cdata1 <- ddply(mat_sel, c("from", "V1"), summarise,   N = length(from))
cdata2 <- ddply(mat_sel, c("from", "V1", "V2"), summarise,   N = length(from))
View(cdata1)
View(cdata2)
cdata2 <- ddply(mat_sel, c("from", "V2"), summarise,   N = length(from))
View(cdata2)
View(cdata1)
recipients_sep <- recipients_sep[, list(V1, V2)] ##keep the first recipeint
mat_sel <- cbind(selected$from, recipients_sep)
colnames(mat_sel)[1] <- "from"
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 37 & V1 != '']
cdata1 <- ddply(mat_sel, c("from", "V1"), summarise,   N = length(from))
cdata2 <- ddply(mat_sel, c("from", "V2"), summarise,   N = length(from))
rm(cdata)
View(cdata1)
View(cdata2)
View(cdata1)
cdata3 <- ddply(mat_sel, c("from", "V1","V2"), summarise,   N = length(from))
View(cdata3)
rm(cdata3)
rbind.fill(list(cdata1, cdata2)))
rbind.fill(list(cdata1, cdata2))
pp <- cbind(names=c(rownames(cdata1), rownames(cdata2)),
rbind.fill(list(cdata1, cdata2))
)
View(pp)
recipients_sep <- recipients_sep[, list(V1)] ##keep the first recipeint
mat_sel <- cbind(selected$from, recipients_sep)
colnames(mat_sel)[1] <- "from"
mat_sel <- mat_sel[ V1 != 'NA' & nchar(V1) < 37 & V1 != '']
cdata1 <- ddply(mat_sel, c("from", "V1"), summarise,   N = length(from))
View(cdata1)
View(pp)
get.adjacency(graph.edgelist(as.matrix(cdata1), directed=T))
library(igraph)
a <- get.adjacency(graph.edgelist(as.matrix(cdata1), directed=T))
mat <- cdata1[, list(from, V1)]
View(cdata1)
mat <- cdata1[, list(from,V1)]
cdata2 <- cdata1[, list(from,V1)]
View(cdata2)
View(cdata1)
names(cdata1)
cdata2 <- cdata1[, list(V1)]
rm(cdata2)
rm(pp)
mat <- cdata1[,N:=NULL]
mat <- cdata1
View(mat)
mat$N <- NULL
View(mat)
a <- get.adjacency(graph.edgelist(as.matrix(mat), directed=T))
ig <- graph.adjacency(cdata1, mode="undirected", weighted=TRUE)
ig <- graph.adjacency(cdata1, mode="directed", weighted=TRUE)
ig <- graph.adjacency(mat, mode="directed", weighted=TRUE)
people <- read.csv('/Users/Amiros/GitHub/MWH/people.csv', sep = ",")
people$X <- NULL
View(people)
rm(list = ls())
edge_list <- read.csv('/Users/Amiros/GitHub/MWH/edge_list.csv', sep = ",")
edge_list$X <- NULL
View(edge_list)
edge_list$V3 <- NULL
library(igraph)
adj_mat <- get.adjacency(graph.edgelist(as.matrix(edge_list), directed=T))
adj_mm <- as.matrix(adj_mat)
write.csv(adj_mm, file = "adj_mat1.csv")
edge_list <- read.csv('/Users/Amiros/GitHub/MWH/edge_list.csv', sep = ",")
edge_list$X <- NULL
View(edge_list)
classif <- edge_list$V3
edge_list$V3 <- NULL
library(igraph)
hillary_matrix <- as.matrix(read.csv(file.choose() ,header=TRUE,row.names=NULL,check.names=FALSE))
hillary_matrix <- hillary_matrix[,-1]
hillary_graph <- graph.adjacency(hillary_matrix,mode="directed", weighted = TRUE)
View(hillary_matrix)
vcount(hillary_graph)
ecount(hillary_graph)
graph.density(hillary_graph, loops=T)
inDegree <- degree(hillary_graph, mode="in", loops = TRUE, normalized = FALSE)
outDegree <- degree(hillary_graph, mode="out", loops = TRUE, normalized = FALSE)
totalDegree <- degree(hillary_graph)
inCloseness <- closeness(hillary_graph, mode='in')
outCloseness <- closeness(hillary_graph, mode='out')
totalCloseness <- closeness(hillary_graph)
betweenness <- betweenness(hillary_graph, directed = T)
eigen <- evcent(hillary_graph)
bon <- bonpow(hillary_graph)
forum <- data.frame(inDegree, outDegree, totalDegree, inCloseness, outCloseness, totalCloseness, betweenness, bon, eigen)
forum = forum[,c(1:9)]
View(forum)
cor <- cor(forum)
View(cor)
library(DBI)
library(RSQLite)
connection <- dbConnect(RSQLite::SQLite(), dbname = "clinton.sqlite")
all_tables <-  dbListTables(connection)
docs <- dbGetQuery(connection, sprintf("SELECT * FROM %s", "docs"))
dbDisconnect(connection)
#2.2 drop unneccasry columns
library(data.table)
docs = data.table(docs)
DF = docs[,c("posted_date","pdf_link","author","doc_class","message_num","case_num",
"declass_date", "id","full_path","is_document","doc_date","pdf_url" ):=NULL]
setwd("~/GitHub/MWH")
connection <- dbConnect(RSQLite::SQLite(), dbname = "clinton.sqlite")
all_tables <-  dbListTables(connection)
docs <- dbGetQuery(connection, sprintf("SELECT * FROM %s", "docs"))
dbDisconnect(connection)
library(data.table)
docs = data.table(docs)
DF = docs[,c("posted_date","pdf_link","author","doc_class","message_num","case_num",
"declass_date", "id","full_path","is_document","doc_date","pdf_url" ):=NULL]
View(docs)
vcount(hillary_graph)
ecount(hillary_graph)
graph.density(hillary_graph, loops=T)
V(hillary_graph)$name
node names <- V(hillary_graph)$name
node_names <- V(hillary_graph)$name
setwd("~/GitHub/SNA #2")
write.csv(node_names, file = "node_names.csv")
